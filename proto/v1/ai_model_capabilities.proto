// PEERS_GENERATION_CONFIG:
//   targets: [backend, desktop, mobile]
//   model_only: true

syntax = "proto3";

package peers_touch.v1;

option go_package = "github.com/peers-touch/peers-touch/proto/v1/ai_model_capabilities";

// ModelProvider 定义了AI模型的提供商
enum ModelProvider {
  MODEL_PROVIDER_UNSPECIFIED = 0;
  OPENAI = 1;
  GOOGLE = 2;
  ANTHROPIC = 3;
  MOONSHOT = 4;
  OLLAMA = 5; // 本地模型
  CUSTOM = 6; // 自定义或社区模型
}

// ModelCapability 定义了单个AI模型所支持的各种能力
message ModelCapability {
  string id = 1;                      // 模型唯一ID, e.g., "gpt-4-turbo"
  string display_name = 2;            // 用于UI展示的名称, e.g., "GPT-4 Turbo"
  ModelProvider provider = 3;         // 模型提供商

  // --- 多模态能力标识 ---
  bool vision_supported = 4;          // 是否支持图像输入 (识图)
  bool file_upload_supported = 5;     // 是否支持文件上传用于知识库/RAG
  bool tts_supported = 6;             // 是否支持文本转语音 (Text-to-Speech)
  bool stt_supported = 7;             // 是否支持语音转文本 (Speech-to-Text)
  bool tool_calling_supported = 8;    // 是否支持工具调用 (Function Calling)
  bool web_search_supported = 9;      // 是否支持联网搜索

  // --- 能力相关参数 ---
  int32 max_vision_input = 10;        // 支持的最大图片输入数量
  int64 max_context_window = 11;      // 最大上下文窗口大小 (tokens)
}

// ModelProviderCapabilitiesResponse 用于后端返回给前端的所有可用模型及其能力
message ModelProviderCapabilitiesResponse {
  repeated ModelCapability capabilities = 1;
}