# 全局定位说明

## 设计参考基准

**核心参考：LobeChat 的设计理念与交互体验**
- 借鉴 LobeChat 的极简三栏布局和流畅交互
- 采用 LobeChat 风格的消息气泡和会话管理
- 实现 LobeChat 级别的渐进式交互反馈

## 产品类型与核心场景

产品类型：去中心化社交平台（桌面端优先），兼具用户社交互动与管理员后台（admin portal）双重属性，核心是 "用户自主内容生产、圈层化互动、去中心化身份与数据管理"。

### 核心功能场景（用户端）：

**即时聊天（LobeChat 风格）**：1v1 或多人群聊，支持文本、图片、代码块，采用 LobeChat 风格的不对称圆角消息气泡和打字机效果；
**私密圈**：仅限好友可见的内容发布与互动，类似封闭社群但采用现代聊天界面布局；
**公开动态**：全平台可见的内容发布，采用卡片式时间线展示；
**AI-chat（核心功能）**：与内置 AI 角色的对话，独立入口，支持上下文记忆、代码生成，完全参考 LobeChat 的会话管理和模型设置界面；
**社交关系**：好友添加 / 管理、身份展示（去中心化 ID，非传统账号体系）；

### 核心功能场景（admin portal 端）：

节点管理：查看 / 维护去中心化网络节点状态（在线 / 离线、性能指标）；
内容审核：处理公开动态的违规举报（轻量化，非中心化强管控）；
数据统计：用户活跃度、内容量等核心指标可视化（图表展示）。

## 目标平台与优先级

* 唯一核心平台：桌面端（屏幕宽度≥1200px），不考虑移动端 / 平板适配（或后续独立规划）。
* 桌面端布局前提：利用宽屏优势，支持 “多场景快速切换”（如左侧栏固定功能入口，中间栏展示当前场景内容，右侧栏展示辅助信息 / 操作面板），避免频繁页面跳转。
* 支持Windows、Linux、MacOS，不支持Web，暂不支持移动端 / 平板。

## 风格基调与设计原则

整体气质：「功能性社交」—— 既满足社交场景的互动友好性，又体现去中心化的 “轻管控、重自主” 特质，界面简洁但信息层级清晰（避免社交产品常见的冗余装饰）。

### 视觉规范

#### 色彩体系

>（深色主题为主，支持浅色主题切换）

基础分层：主背景（#1A1A1A）→ 功能区背景（侧边栏 / 卡片，#252525）→ 交互元素（按钮 / 输入框，#2D2D2D）；
场景区分色（弱提示，不刺眼）：
聊天场景：低饱和蓝（#3B82F6，用于气泡、发送按钮）；
私密圈：低饱和绿（#10B981，用于入口图标、标题）；
公开动态：低饱和橙（#F59E0B，用于发布按钮、标签）；
AI-chat：低饱和紫（#8B5CF6，用于角色头像边框）；
文本色：主文本（#F0F0F0）→ 次要文本（#B0B0B0）→ 辅助文本（#808080），确保长文本可读性。

## 布局原则（LobeChat 风格）

### 三栏布局结构
**左侧栏（会话导航）**：固定宽度 280px（参考 LobeChat），最小宽度 240px，最大宽度 320px
- 顶部：用户身份区域（高度 120px）
- 中部：垂直会话列表（自适应高度，支持滚动）
- 底部：全局功能入口（高度 80px）

**中间栏（主内容区）**：自适应宽度，最小宽度 720px，最大宽度无限制
- 顶部：当前会话标题栏（高度 64px）
- 中部：消息流展示区（自适应高度，支持滚动）
- 底部：输入框区域（高度 120px）

**右侧栏（辅助面板）**：固定宽度 320px，支持折叠
- 展开状态：宽度 320px
- 折叠状态：宽度 48px（仅显示展开图标）
- 采用 overlay 模式，不挤压中间内容区

### 交互原则（LobeChat 级别）

**页面切换**：淡入淡出 + 轻微缩放动画，时长 300ms，缓动曲线 ease-out
**消息发送**：打字机效果，逐字显示，支持流式输出
**悬停反馈**：背景透明度从 0 → 0.1，过渡时长 150ms
**加载状态**：骨架屏脉动动画，2秒循环

### 交互细节规范

#### 社交化反馈（LobeChat 风格）
**消息未读提示**：小红点尺寸 8px，位置右上角偏移 (-4px, -4px)
**实时计数更新**：数字变化采用缩放动画，时长 200ms
**消息发送状态**：发送中显示旋转图标，发送成功显示对勾动画

#### 去中心化标识
**用户身份显示**：头像右下角显示去中心化 ID 简写（如 "0x...a3f"），字体大小 10px
**节点状态指示**：圆形图标，绿色 (#10B981) 表示在线，灰色 (#6B7280) 表示离线，尺寸 12px

#### 视觉装饰约束
**阴影系统**：最多 2 层阴影，模糊度不超过 8px
**圆角规范**：基础圆角 8px，消息气泡采用不对称圆角（左上右下 12px，右上左下 8px）
**hover 效果**：背景透明度变化 0 → 0.08，无颜色变化

#### 技术实现要求
**状态管理**：所有交互状态必须通过 GetX 的 .obs 响应式变量管理
**动画实现**：使用 Flutter 原生动画系统，禁止使用第三方动画库
**性能优化**：列表项使用 AutomaticKeepAliveClientMixin 保持状态
