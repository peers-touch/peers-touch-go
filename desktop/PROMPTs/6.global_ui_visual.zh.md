# 全局视觉规范（深色模式，参考微信）

本规范用于统一应用在深色模式下的视觉语言，严格参考微信的层次、对比与秩序，并通过主题 tokens 集中控制、落地到代码。

## 设计原则
- 层次明确：背景分三层（0/1/2/3）逐级抬升，避免纯黑一片和突兀的白边。
- 低对比边框：分隔线采用低对比度（#2D2D2D），仅在容器与内容边界出现。
- 文本层次：主文（近白）、次文（中灰）、辅助（低灰），避免过强对比造成刺眼。
- 品牌节制：少量使用品牌绿（#07C160）表示主操作或激活态。
- 统一圆角与间距：圆角 6/8/12，间距 4/8/12/16/24，严格遵循栅格节奏。

## 颜色与层级（WeChatTokens）
- `bgLevel0`：窗口/页面底层（#121212）
- `bgLevel1`：主内容区（#1A1A1A）
- `bgLevel2`：次级容器/侧栏/卡片（#202020）
- `bgLevel3`：输入/列表项（#262626）
- `divider`：分隔线（#2D2D2D）
- `textPrimary`/`textSecondary`/`textTertiary`：文本层次
- `brandAccent`：#07C160，主操作色
- `menuSelected`：#2E2E2E，选中项背景

## 关键版式（落地示例）
- 左侧一级菜单：栏宽读取 `tokens.menuBarWidth`（默认 64），背景 `bgLevel2`；菜单按钮统一使用黄金分割比例 `tokens.menuItemBoxRatio`（默认 0.618）计算正方形尺寸并居中（例如 `64×0.618≈39.6`），圆角用 `radiusMd`。选中态用边框或浅色强调（`menuSelected`/`divider`），避免圆形 hover 叠层；非选中项无阴影，hover 仅轻微背景强调。
- 设置页导航：背景 `bgLevel2`，每项为圆角卡片（`radiusSm`），间距 `spaceSm`。
- 设置项卡片：容器背景 `bgLevel2`，输入与下拉内部使用 `bgLevel3`，统一描边 `divider`，文本遵守主/次层次。

## 代码落地
所有业务模块只读取 `Theme.of(context).extension<WeChatTokens>()`；不得在模块内硬编码颜色、间距或尺寸。包括 `menuBarWidth`、`menuItemBoxRatio` 等布局尺寸均在 tokens 中集中管理，统一治理与检阅。